# ==== –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª–∏ ====  
–∫–∏–Ω—É—Ç—å "—Ä–∞–∑–≤–æ–¥" –∏–∑ —Å—Ç–∞–Ω–∫–∞      # —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
–∫–∏–Ω—É—Ç—å "—Å—Ç—É–∫–∞—á" –∏–∑ —Å—Ç–∞–Ω–∫–∞      # –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  
–∫–∏–Ω—É—Ç—å "—Å—Ö—Ä–æ–Ω" –∏–∑ —Å—Ç–∞–Ω–∫–∞       # –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
–∫–∏–Ω—É—Ç—å "–ª–µ–≥–∞–≤—ã–π" –∏–∑ —Å—Ç–∞–Ω–∫–∞     # –≤–∞–ª–∏–¥–∞—Ü–∏—è  
–∫–∏–Ω—É—Ç—å "—Ö–∞–∑–∞" –∏–∑ —Å—Ç–∞–Ω–∫–∞        # –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  

# ==== –°—É—â–Ω–æ—Å—Ç—å "–ë—ã–∫" ====  
—Ç–∏–ø –ë—ã–∫ {  
    –ø–∞—Å–ø–æ—Ä—Ç: —á–∏—Å–ª–æ @–∫–ª—é—á,  
    –∫–ª–∏—á–∫–∞: —Å—Ç—Ä–æ–∫–∞ @–º–µ–Ω—Ç–∞–º(–º–∏–Ω=3, –º–∞–∫—Å=20),  
    –±–∞–±–∫–∏: —á–∏—Å–ª–æ @–ø–æ_—É–º–æ–ª—á–∞–Ω–∏—é(0),  
    –≤_—Ä–æ–∑—ã—Å–∫–µ: –ª–æ–≥–∏—á–µ—Å–∫–æ–µ @—Å–∫—Ä—ã—Ç—ã–π  
}  

# ==== CRUD —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ –ª–æ–≥–∞–º–∏ ====  

# üîÑ –†–∞–∑–≤–æ–¥ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è)  
—Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏_–±–∞–±–∫–∏(–æ—Ç_–∫–æ–≥–æ: —á–∏—Å–ª–æ, –∫–æ–º—É: —á–∏—Å–ª–æ, —Å—É–º–º–∞: —á–∏—Å–ª–æ) -> –ª–æ–≥–∏—á–µ—Å–∫–æ–µ:  
    """–ü–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ–º –±–∞–±–∫–∏ –º–µ–∂–¥—É –±—ã–∫–∞–º–∏."""  
    —Å—Ç—É–∫–∞—á.–ø–∏—Å–∞—Ç—å(f"–ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ {—Å—É–º–º–∞} –æ—Ç {–æ—Ç_–∫–æ–≥–æ} –∫ {–∫–æ–º—É}")  

    —Ä–∞–∑–≤–æ–¥.–Ω–∞—á–∞—Ç—å()  # BEGIN TRANSACTION  
    –ø–æ–ø—Ä–æ–±—É–π:  
        # –°–Ω–∏–º–∞–µ–º —É –æ–¥–Ω–æ–≥–æ  
        –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å = –Ω–∞–π—Ç–∏_–±—ã–∫–∞(–æ—Ç_–∫–æ–≥–æ)  
        –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å.–±–∞–±–∫–∏ < —Å—É–º–º–∞:  
            –∫–∏–Ω—É—Ç—å_—Ä–∞–∑–±–æ—Ä–∫–∏!("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –±–∞–±–æ–∫!")  

        —Ö–∞–∑–∞.–ø–µ—Ä–µ—Ç—Ä—è—Ö–Ω—É—Ç—å("–±—ã–∫–∏", –æ—Ç_–∫–æ–≥–æ, {"–±–∞–±–∫–∏": –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å.–±–∞–±–∫–∏ - —Å—É–º–º–∞})  

        # –î–æ–±–∞–≤–ª—è–µ–º –¥—Ä—É–≥–æ–º—É  
        –ø–æ–ª—É—á–∞—Ç–µ–ª—å = –Ω–∞–π—Ç–∏_–±—ã–∫–∞(–∫–æ–º—É)  
        —Ö–∞–∑–∞.–ø–µ—Ä–µ—Ç—Ä—è—Ö–Ω—É—Ç—å("–±—ã–∫–∏", –∫–æ–º—É, {"–±–∞–±–∫–∏": –ø–æ–ª—É—á–∞—Ç–µ–ª—å.–±–∞–±–∫–∏ + —Å—É–º–º–∞})  

        —Ä–∞–∑–≤–æ–¥.–∑–∞–≤–µ—Ä—à–∏—Ç—å()  # COMMIT  
        —Å—Ç—É–∫–∞—á.–ø–∏—Å–∞—Ç—å("–ü–µ—Ä–µ–≤–æ–¥ —É—Å–ø–µ—à–µ–Ω!")  
        –≤–µ—Ä–Ω—É—Ç—å –¥–∞  
    –ø–æ–π–º–∞—Ç—å_—Ä–∞–∑–±–æ—Ä–∫–∏ –∫–∞–∫ –æ—à–∏–±–∫–∞:  
        —Ä–∞–∑–≤–æ–¥.–æ—Ç–∫–∞—Ç–∏—Ç—å()  # ROLLBACK  
        —Å—Ç—É–∫–∞—á.–ø–∏—Å–∞—Ç—å(f"–ü—Ä–æ–≤–∞–ª: {–æ—à–∏–±–∫–∞}")  
        –≤–µ—Ä–Ω—É—Ç—å –Ω–µ—Ç  

# ==== –†–∞–±–æ—Ç–∞ —Å "—Å—Ö—Ä–æ–Ω–æ–º" (—Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏) ====  
—Ñ—É–Ω–∫—Ü–∏—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è_–∫_–º–µ–Ω—Ç–µ() -> –º–µ—à–æ–∫:  
    """–î–æ—Å—Ç–∞—ë–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π API-–∫–ª—é—á –∏–∑ —Å—Ö—Ä–æ–Ω–∞."""  
    –∫–ª—é—á = —Å—Ö—Ä–æ–Ω.–≥—Ä–µ—Å—Ç–∏("–ú–ï–ù–¢–û–í–°–ö–û–ô_–ö–õ–Æ–ß")  
    –µ—Å–ª–∏ –Ω–µ –∫–ª—é—á:  
        –∫–∏–Ω—É—Ç—å_—Ä–∞–∑–±–æ—Ä–∫–∏!("–ö–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω!")  
    –≤–µ—Ä–Ω—É—Ç—å {"Authorization": –∫–ª—é—á}  

# ==== –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ====  
–≥–ª–∞–≤–Ω–∞—è():  
    # –ß–∏—Ç–∞–µ–º –∏–∑ —Å—Ö—Ä–æ–Ω–∞  
    –ø–æ–ø—Ä–æ–±—É–π:  
        –¥–∞–Ω–Ω—ã–µ = –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è_–∫_–º–µ–Ω—Ç–µ()  
        –ø–µ—á–∞—Ç—å("–ü–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –º–µ–Ω—Ç–∞–º!")  
    –ø–æ–π–º–∞—Ç—å_—Ä–∞–∑–±–æ—Ä–∫–∏:  
        –ø–µ—á–∞—Ç—å("–ú–µ–Ω—Ç—ã –Ω–µ –ø—É—Å–∫–∞—é—Ç –±–µ–∑ –∫–ª—é—á–∞!")  

    # –ü–µ—Ä–µ–≤–æ–¥–∏–º –±–∞–±–∫–∏  
    –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏_–±–∞–±–∫–∏(1, 2, 5000):  
        –ø–µ—á–∞—Ç—å("–ë–∞–±–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã!")  
    –∏–Ω–∞—á–µ:  
        –ø–µ—á–∞—Ç—å("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫...")  
